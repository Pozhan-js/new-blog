<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SSE | å‹äººA</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.0.0-rc.40">
    <link rel="preload stylesheet" href="/assets/style.c9-AXg4q.css" as="style">
    
    <script type="module" src="/assets/app.ebIqKktG.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.e3u47HJq.js">
    <link rel="modulepreload" href="/assets/chunks/theme.lNUjzE0e.js">
    <link rel="modulepreload" href="/assets/note_network_SSE.md.mEUYL2-j.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-48a351bb data-v-3d48d211><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ee438669></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ee438669> Skip to content </a><!--]--><!----><header class="VPNav" data-v-3d48d211 data-v-60c53a18><div class="VPNavBar has-sidebar" data-v-60c53a18 data-v-f275e396><div class="wrapper" data-v-f275e396><div class="container" data-v-f275e396><div class="title" data-v-f275e396><div class="VPNavBarTitle has-sidebar" data-v-f275e396 data-v-7304616b><a class="title" href="/" data-v-7304616b><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.jpg" alt data-v-8b84a845><!--]--><!--[-->å‹äººA<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f275e396><div class="content-body" data-v-f275e396><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f275e396><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f275e396 data-v-d66b26d2><span id="main-nav-aria-label" class="visually-hidden" data-v-d66b26d2>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-d66b26d2 data-v-f1dbd02d><!--[--><span data-v-f1dbd02d>ä¸»é¡µ</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/archive.html" tabindex="0" data-v-d66b26d2 data-v-f1dbd02d><!--[--><span data-v-f1dbd02d>å½’æ¡£</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d66b26d2 data-v-4448e281><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4448e281><span class="text" data-v-4448e281><!----><span data-v-4448e281>ç¬”è®°</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-4448e281><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-4448e281><div class="VPMenu" data-v-4448e281 data-v-fe07847d><div class="items" data-v-fe07847d><!--[--><!--[--><div class="VPMenuLink" data-v-fe07847d data-v-dc3c656c><a class="VPLink link" href="/note/network/OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B.html" data-v-dc3c656c><!--[-->ç½‘ç»œ<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d66b26d2 data-v-4448e281><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4448e281><span class="text" data-v-4448e281><!----><span data-v-4448e281>å¤§å‰ç«¯</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-4448e281><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-4448e281><div class="VPMenu" data-v-4448e281 data-v-fe07847d><div class="items" data-v-fe07847d><!--[--><!--[--><div class="VPMenuLink" data-v-fe07847d data-v-dc3c656c><a class="VPLink link" href="/front-end/React/%E5%9F%BA%E7%A1%80hook.html" data-v-dc3c656c><!--[-->React<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-fe07847d data-v-dc3c656c><a class="VPLink link" href="/front-end/Three.js/Three.js%E5%85%A5%E9%97%A8.html" data-v-dc3c656c><!--[-->Three.js<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/about.html" tabindex="0" data-v-d66b26d2 data-v-f1dbd02d><!--[--><span data-v-f1dbd02d>å…³äº</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f275e396 data-v-85057f2e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-85057f2e data-v-d87a899d data-v-16964d5b><span class="check" data-v-16964d5b><span class="icon" data-v-16964d5b><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-d87a899d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-d87a899d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f275e396 data-v-6c707df4 data-v-1ea03076><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Niu-bin" aria-label="github" target="_blank" rel="noopener" data-v-1ea03076 data-v-21dda3c5><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f275e396 data-v-198a216c data-v-4448e281><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-4448e281><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-4448e281><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-4448e281><div class="VPMenu" data-v-4448e281 data-v-fe07847d><!----><!--[--><!--[--><!----><div class="group" data-v-198a216c><div class="item appearance" data-v-198a216c><p class="label" data-v-198a216c>Appearance</p><div class="appearance-action" data-v-198a216c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-198a216c data-v-d87a899d data-v-16964d5b><span class="check" data-v-16964d5b><span class="icon" data-v-16964d5b><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-d87a899d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-d87a899d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-198a216c><div class="item social-links" data-v-198a216c><div class="VPSocialLinks social-links-list" data-v-198a216c data-v-1ea03076><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Niu-bin" aria-label="github" target="_blank" rel="noopener" data-v-1ea03076 data-v-21dda3c5><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f275e396 data-v-5a6dcf51><span class="container" data-v-5a6dcf51><span class="top" data-v-5a6dcf51></span><span class="middle" data-v-5a6dcf51></span><span class="bottom" data-v-5a6dcf51></span></span></button></div></div></div></div><div class="divider" data-v-f275e396><div class="divider-line" data-v-f275e396></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-3d48d211 data-v-886b380d><div class="container" data-v-886b380d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-886b380d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-886b380d><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-886b380d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-886b380d data-v-3cb38803><button data-v-3cb38803>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-3d48d211 data-v-39be9df8><div class="curtain" data-v-39be9df8></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-39be9df8><span class="visually-hidden" id="sidebar-aria-label" data-v-39be9df8> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-39be9df8></div><div class="group" data-v-39be9df8></div><div class="group" data-v-39be9df8></div><!--]--><!--[--><!--[--><div class="blog_siderbar" data-v-48a351bb data-v-ca1b583a><div class="sider_title" style="" data-v-ca1b583a><span style="font-size:18px;" data-v-ca1b583a>ğŸ</span> Â  ç›¸å…³æ–‡ç«  </div><ul class="sider_list" data-v-ca1b583a><!--[--><li class="article_active sider_list_item" data-v-ca1b583a><span class="sequence" data-v-ca1b583a>1</span><div data-v-ca1b583a><div class="article_name" data-v-ca1b583a>SSE</div><div class="article_date" data-v-ca1b583a>2024-03-06</div></div></li><li class="sider_list_item" data-v-ca1b583a><span class="sequence" data-v-ca1b583a>2</span><div data-v-ca1b583a><div class="article_name" data-v-ca1b583a>æµè§ˆå™¨è¾“å…¥ URL å‘ç”Ÿäº†ä»€ä¹ˆ</div><div class="article_date" data-v-ca1b583a>2024-03-05</div></div></li><li class="sider_list_item" data-v-ca1b583a><span class="sequence" data-v-ca1b583a>3</span><div data-v-ca1b583a><div class="article_name" data-v-ca1b583a>OSI ä¸ƒå±‚æ¨¡å‹</div><div class="article_date" data-v-ca1b583a>2024-02-29</div></div></li><li class="sider_list_item" data-v-ca1b583a><span class="sequence" data-v-ca1b583a>4</span><div data-v-ca1b583a><div class="article_name" data-v-ca1b583a>TCP</div><div class="article_date" data-v-ca1b583a>2024-02-29</div></div></li><!--]--></ul></div><!--]--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-3d48d211 data-v-7ce5b6b9><div class="VPDoc has-sidebar has-aside" data-v-7ce5b6b9 data-v-ed191b57><!--[--><!--]--><div class="container" data-v-ed191b57><div class="aside" data-v-ed191b57><div class="aside-curtain" data-v-ed191b57></div><div class="aside-container" data-v-ed191b57><div class="aside-content" data-v-ed191b57><div class="VPDocAside" data-v-ed191b57 data-v-415b4bdd><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-415b4bdd data-v-5295c29a><div class="content" data-v-5295c29a><div class="outline-marker" data-v-5295c29a></div><div class="outline-title" role="heading" aria-level="2" data-v-5295c29a>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-5295c29a><span class="visually-hidden" id="doc-outline-aria-label" data-v-5295c29a> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-5295c29a data-v-d9a51085><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-415b4bdd></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ed191b57><div class="content-container" data-v-ed191b57><!--[--><!--]--><main class="main" data-v-ed191b57><div style="position:relative;" class="vp-doc _note_network_SSE" data-v-ed191b57><div><h1 id="sse" tabindex="-1">SSE <a class="header-anchor" href="#sse" aria-label="Permalink to &quot;SSE&quot;">â€‹</a></h1><p>SSEï¼ˆServer-Sent Eventsï¼‰æ˜¯ä¸€ç§ç”¨äºå®ç°æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®çš„æŠ€æœ¯ï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œäº‹ä»¶æµâ€ï¼ˆEvent Streamï¼‰ã€‚å®ƒåŸºäº HTTP åè®®ï¼Œåˆ©ç”¨äº†å…¶é•¿è¿æ¥ç‰¹æ€§ï¼Œåœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€æ¡æŒä¹…åŒ–è¿æ¥ï¼Œå¹¶é€šè¿‡è¿™æ¡è¿æ¥å®ç°æœåŠ¡å™¨å‘å®¢æˆ·ç«¯çš„å®æ—¶æ•°æ®æ¨é€ã€‚</p><p>SSE æ˜¯ WebSocket çš„ä¸€ç§è½»é‡ä»£æ›¿æ–¹æ¡ˆï¼Œä¸€èˆ¬æ¥è¯´ HTTP æ˜¯æ²¡æœ‰åŠæ³•åšåˆ°æœåŠ¡å™¨æ¨é€çš„ï¼Œå½“æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å£°æ˜æ¥ä¸‹æ¥è¦ä¸‹å‘çš„å†…å®¹çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯å°±ä¼šä¿æŒè¿æ¥æ‰“å¼€ï¼ŒSSE å°±æ˜¯åˆ©ç”¨è¿™ç§åŸç†ï¼Œè¿‡ç¨‹åŸºæœ¬å¦‚ä¸‹ï¼š</p><ul><li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª GET è¯·æ±‚ï¼Œå¸¦æœ‰æŒ‡å®šçš„ headerï¼Œè¡¨ç¤ºå¯ä»¥æ¥æ”¶äº‹ä»¶æµç±»å‹ï¼Œå¹¶ç¦ç”¨ä»»ä½•çš„äº‹ä»¶ç¼“å­˜ã€‚</li><li>æœåŠ¡å™¨è¿”å›ä¸€ä¸ªå“åº”ï¼Œå¸¦æœ‰æŒ‡å®šçš„ headerï¼Œè¡¨ç¤ºäº‹ä»¶çš„åª’ä½“ç±»å‹å’Œç¼–ç ï¼Œä»¥åŠä½¿ç”¨åˆ†å—ä¼ è¾“ç¼–ç ï¼ˆchunkedï¼‰æ¥æµå¼ä¼ è¾“åŠ¨æ€ç”Ÿæˆçš„å†…å®¹ã€‚</li><li>æœåŠ¡å™¨åœ¨æœ‰æ•°æ®æ›´æ–°æ—¶ï¼Œå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªæˆ–å¤šä¸ªåç§°ï¼šå€¼å­—æ®µç»„æˆçš„äº‹ä»¶ï¼Œç”±å•ä¸ªæ¢è¡Œç¬¦åˆ†éš”ã€‚äº‹ä»¶ä¹‹é—´ç”±ä¸¤ä¸ªæ¢è¡Œç¬¦åˆ†éš”ã€‚æœåŠ¡å™¨å¯ä»¥å‘é€äº‹ä»¶æ•°æ®ã€äº‹ä»¶ç±»å‹ã€äº‹ä»¶ ID å’Œé‡è¯•æ—¶é—´ç­‰å­—æ®µã€‚</li><li>å®¢æˆ·ç«¯ä½¿ç”¨ EventSource æ¥å£æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ‰“å¼€è¿æ¥ï¼Œå¹¶è®¢é˜… onopenã€onmessage å’Œ onerror ç­‰äº‹ä»¶å¤„ç†ç¨‹åºæ¥å¤„ç†è¿æ¥çŠ¶æ€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚</li><li>å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ GET æŸ¥è¯¢å‚æ•°æ¥ä¼ é€’æ•°æ®ç»™æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ close æ–¹æ³•æ¥å…³é—­è¿æ¥ã€‚</li></ul><p>åœ¨è¯·æ±‚å¤´å’Œå“åº”å¤´è®¾ç½® <code>Content-Type: text/event-stream</code> æ˜¯å®ç° SSE çš„å…³é”®ã€‚</p><h2 id="sse-ä¸-socket-çš„åŒºåˆ«" tabindex="-1">SSE ä¸ Socket çš„åŒºåˆ« <a class="header-anchor" href="#sse-ä¸-socket-çš„åŒºåˆ«" aria-label="Permalink to &quot;SSE ä¸ Socket çš„åŒºåˆ«&quot;">â€‹</a></h2><p>ä¸¤è€…éƒ½å¯ä»¥å®ç°æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ•°æ®</p><ol><li>å®ç°æ–¹å¼</li></ol><p>SSE åŸºäº HTTP åè®®ï¼Œåˆ©ç”¨é•¿è¿æ¥ç‰¹æ€§é€šè¿‡æµè§ˆå™¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œå»ºç«‹æŒä¹…åŒ–è¿æ¥ï¼ŒWebSocket æ˜¯é€šè¿‡ç‰¹æ®Šçš„å‡çº§åè®®ï¼ˆHTTP/1.1 Upgrade æˆ–è€… HTTP/2ï¼‰å»ºç«‹æ–°çš„ TCP è¿æ¥ï¼Œä¸ä¼ ç»Ÿ HTTP è¿æ¥ä¸åŒ</p><ol><li>é€šé“æ–¹å‘æ€§ï¼šWebSocket æ˜¯å…¨åŒå·¥é€šé“ï¼Œæ”¯æŒåŒå‘é€šä¿¡ï¼Œå³å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¯ä»¥ç›¸äº’å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒSSE æ˜¯å•å‘é€šé“ï¼Œåªå…è®¸æœåŠ¡å™¨å‘æµè§ˆå™¨ç«¯å‘é€æ•°æ®ï¼Œå®¢æˆ·ç«¯æ— æ³•ä¸»åŠ¨å‘æœåŠ¡å™¨å‘é€æ•°æ®ã€‚</li><li>åè®®ç‰¹æ€§ï¼šWebSocket æ˜¯ä¸€ä¸ªæ–°çš„é€šä¿¡åè®®ï¼Œéœ€è¦æœåŠ¡å™¨ç«¯è¿›è¡Œæ”¯æŒã€‚è€Œ SSE åˆ™æ˜¯åŸºäº HTTP åè®®å®ç°çš„ï¼Œåˆ©ç”¨äº† HTTP çš„é•¿è¿æ¥ç‰¹æ€§ï¼Œåœ¨ç°æœ‰çš„æœåŠ¡å™¨è½¯ä»¶ä¸Šéƒ½å¯ä»¥å¾—åˆ°æ”¯æŒã€‚æ­¤å¤–ï¼ŒSSE æ˜¯ä¸€ä¸ªè½»é‡çº§çš„åè®®ï¼Œç›¸å¯¹ç®€å•ï¼Œè€Œ WebSocket æ˜¯é€šè¿‡ç‰¹æ®Šçš„å‡çº§åè®®ï¼ˆHTTP/1.1 Upgrade æˆ–è€… HTTP/2ï¼‰å»ºç«‹æ–°çš„ TCP è¿æ¥ï¼Œä¸ä¼ ç»Ÿ HTTP è¿æ¥ä¸åŒï¼Œç›¸å¯¹å¤æ‚ã€‚</li><li>æ•°æ®ä¼ è¾“ï¼šSSE ä¸€èˆ¬åªç”¨æ¥ä¼ é€æ–‡æœ¬æ•°æ®ï¼Œå¦‚æœè¦ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ï¼Œéœ€è¦è¿›è¡Œç¼–ç åå†ä¼ é€ã€‚è€Œ WebSocket åˆ™é»˜è®¤æ”¯æŒä¼ é€äºŒè¿›åˆ¶æ•°æ®ï¼Œæ”¯æŒçš„æ•°æ®ç±»å‹å¹¿æ³›</li><li>æ–­çº¿é‡è¿ï¼šSSE é»˜è®¤æ”¯æŒæ–­çº¿é‡è¿ï¼Œå½“è¿æ¥æ–­å¼€æ—¶ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨ç¡®å®šä½•æ—¶é‡æ–°è¿æ¥ï¼Œè¿æ¥çŠ¶æ€æ˜¯ç”±æµè§ˆå™¨ç»´æŠ¤ï¼Œå®¢æˆ·ç«¯æ— æ³•æ‰‹åŠ¨å…³é—­æˆ–è€…é‡æ–°æ‰“å¼€è¿æ¥ã€‚è€Œ WebSocket åˆ™éœ€è¦å¼€å‘è€…è‡ªè¡Œå®ç°æ–­çº¿é‡è¿çš„é€»è¾‘ã€‚</li><li>æ•°æ®ç±»å‹ä¸ CORSï¼šSSE æ”¯æŒè‡ªå®šä¹‰å‘é€çš„æ•°æ®ç±»å‹ã€‚ç„¶è€Œï¼Œå®ƒä¸æ”¯æŒ CORSï¼ˆè·¨æºèµ„æºå…±äº«ï¼‰ï¼Œè¿™æ„å‘³ç€ SSE çš„ urlï¼ˆæœåŠ¡å™¨ç½‘å€ï¼‰å¿…é¡»ä¸å½“å‰ç½‘é¡µçš„ç½‘å€åœ¨åŒä¸€ä¸ªç½‘åŸŸï¼ˆdomainï¼‰ï¼Œä¸”åè®®å’Œç«¯å£éƒ½å¿…é¡»ç›¸åŒã€‚</li><li>å®‰å…¨æ€§ï¼šSSE åŸºäº HTTP åè®®ï¼Œé£é™©ç›¸å¯¹è¾ƒä½ï¼ŒWebSocket åˆ™éœ€è¦é€šè¿‡é¢å¤–çš„å®‰å…¨æªæ–½ï¼ˆSSL/TLS åŠ å¯†ï¼‰æ¥ç¡®ä¿æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§ï¼Œé¿å…è¢«çªƒå¬ä¸€çº§ç¯¡æ”¹</li></ol><h2 id="å‰ç«¯å®ç°" tabindex="-1">å‰ç«¯å®ç° <a class="header-anchor" href="#å‰ç«¯å®ç°" aria-label="Permalink to &quot;å‰ç«¯å®ç°&quot;">â€‹</a></h2><p>åœ¨å‰ç«¯å®ç° SSEï¼ˆServer-Sent Eventsï¼‰è¯·æ±‚ä¸»è¦æ¶‰åŠåˆ°åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>EventSource</code> å¯¹è±¡ï¼Œå¹¶æŒ‡å®šæœåŠ¡å™¨æä¾›çš„ SSE ç«¯ç‚¹ URLã€‚ä¸€æ—¦è¿æ¥å»ºç«‹ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¤„ç†ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œå¹¶åœ¨æ¥æ”¶åˆ°æ–°çš„äº‹ä»¶æ—¶è§¦å‘ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p><blockquote><p><code>EventSource</code> å¯¹è±¡æ˜¯ HTML5 æ–°å¢çš„ä¸€ä¸ªå®¢æˆ·ç«¯ APIï¼Œç”¨äºé€šè¿‡æœåŠ¡å™¨æ¨é€å®æ—¶æ›´æ–°çš„æ•°æ®å’Œé€šçŸ¥ã€‚</p></blockquote><h3 id="eventsource-api-ä»‹ç»" tabindex="-1">EventSource API ä»‹ç» <a class="header-anchor" href="#eventsource-api-ä»‹ç»" aria-label="Permalink to &quot;EventSource API ä»‹ç»&quot;">â€‹</a></h3><ol><li><code>EventSource</code> æ„é€ å‡½æ•°ï¼š</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventSource</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EventSource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url, options);</span></span></code></pre></div><ul><li><code>url</code>: ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥çš„ URL</li><li><code>options</code>: ï¼ˆå¯é€‰å‚æ•°ï¼‰ <ul><li><code>withCredentials</code>: Booleanï¼Œæ˜¯å¦å…è®¸å‘é€ Cookie å’Œ HTTP è®¤è¯ä¿¡æ¯ï¼Œé»˜è®¤ false</li><li><code>headers</code>: Objectï¼Œè¡¨ç¤ºè¦å‘é€çš„ä¿¡æ¯å¤´ä¿¡æ¯</li><li><code>retryInterval</code>: Numberï¼Œè¡¨ç¤ºä¸æœåŠ¡å™¨å¤±å»è¿æ¥åï¼Œé‡æ–°è¿æ¥çš„æ—¶é—´é—´éš”ï¼Œé»˜è®¤ 1000 æ¯«ç§’</li></ul></li></ul><ol start="2"><li><code>EventSource.readyState</code> å±æ€§:</li></ol><p><code>readyState</code>è¡¨ç¤ºå½“å‰<code>EventSource</code>çŠ¶æ€ï¼Œè¯¥çŠ¶æ€åªè¯»ï¼Œä¸èƒ½è®¾ç½®ï¼Œåˆ†åˆ«æœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€ï¼š</p><ul><li><code>CONNECTING</code>ï¼šè¡¨ç¤ºæ­£åœ¨å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥ã€‚</li><li><code>OPEN</code>ï¼šè¡¨ç¤ºå·²ç»å»ºç«‹è¿æ¥ï¼Œæ­£åœ¨æ¥æ”¶æœåŠ¡å™¨å‘é€çš„æ•°æ®ã€‚</li><li><code>CLOSED</code>ï¼šè¡¨ç¤ºè¿æ¥å·²ç»è¢«å…³é—­ï¼Œæ— æ³•å†æ¥æ”¶æœåŠ¡å™¨å‘é€çš„æ•°æ®ã€‚</li></ul><h3 id="eventsource-api-ä½¿ç”¨" tabindex="-1">EventSource API ä½¿ç”¨ <a class="header-anchor" href="#eventsource-api-ä½¿ç”¨" aria-label="Permalink to &quot;EventSource API ä½¿ç”¨&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventSource</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EventSource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/sse-point&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›‘å¬openäº‹ä»¶ï¼Œå½“è¿æ¥æˆåŠŸå»ºç«‹æ—¶è§¦å‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventSource.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onopen</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Connection to server opened.;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›‘å¬messageäº‹ä»¶ï¼Œå½“æ¥æ”¶åˆ°æœåŠ¡å™¨å‘é€çš„æ•°æ®æ—¶è§¦å‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventSource.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onmessage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // event.dataåŒ…å«æœåŠ¡å™¨å‘é€çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Received data:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, event.data);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›‘å¬erroräº‹ä»¶ï¼Œå½“è¿æ¥å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventSource.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onerror</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å½“eventSourceå½“å‰çŠ¶æ€ä¸ºå…³é—­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (eventSource.readyState </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EventSource.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CLOSED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿æ¥å·²å…³é—­ï¼Œå¯èƒ½æ˜¯æ­£å¸¸å…³é—­æˆ–ç”±äºé”™è¯¯è€Œå…³é—­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Connection closed.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿æ¥è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;EventSource failed:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å½“ä¸å†éœ€è¦SSEè¿æ¥æ—¶ï¼Œå…³é—­å®ƒ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventSource.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="node-js-ä½œä¸ºåç«¯å¤„ç†-sse" tabindex="-1">Node.js ä½œä¸ºåç«¯å¤„ç† SSE <a class="header-anchor" href="#node-js-ä½œä¸ºåç«¯å¤„ç†-sse" aria-label="Permalink to &quot;Node.js ä½œä¸ºåç«¯å¤„ç† SSE&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> express </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;express&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> express</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/sse-point&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeHead</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;Content-Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text/event-stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¸å¿ƒè¿”å›æ•°æ®æµ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Connection: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> total</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> current </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // mock SSE æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(current, total);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (current </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> total) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;end&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      clearInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(time);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //è¿”å›è‡ªå®šä¹‰äº‹ä»¶å</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`event:lol</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> è¿”å›æ•°æ®;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`data:${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)[</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">current</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    current</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Listening on port 3000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-ed191b57 data-v-0bf622a7><!--[--><!--]--><!----><nav class="prev-next" data-v-0bf622a7><div class="pager" data-v-0bf622a7><a class="VPLink link pager-link prev" href="/note/network/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5URL%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88.html" data-v-0bf622a7><!--[--><span class="desc" data-v-0bf622a7>Previous page</span><span class="title" data-v-0bf622a7>æµè§ˆå™¨è¾“å…¥URLå‘ç”Ÿäº†ä»€ä¹ˆ</span><!--]--></a></div><div class="pager" data-v-0bf622a7><!----></div></nav></footer><!--[--><!--[--><!--[--><div class="comment_box" data-v-48a351bb data-v-c53ad21b><!----></div><!----><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!----><!----><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"note_network_æµè§ˆå™¨è¾“å…¥urlå‘ç”Ÿäº†ä»€ä¹ˆ.md\":\"gvRZDuvY\",\"note_network_tcp.md\":\"AsG6t0Px\",\"about.md\":\"Fc2N7c6U\",\"index.md\":\"F45_WNlK\",\"note_network_osiä¸ƒå±‚æ¨¡å‹.md\":\"0zs1bAaF\",\"note_network_sse.md\":\"mEUYL2-j\",\"archive.md\":\"d2bniUsO\",\"front-end_three.js_three.jså…¥é—¨.md\":\"5ZmbT7bY\",\"front-end_react_æ€§èƒ½ä¼˜åŒ–ç›¸å…³hook.md\":\"SGj7dnVc\",\"front-end_react_reducer.md\":\"Z5XZHMOv\",\"front-end_react_åŸºç¡€hook.md\":\"wYdESu4S\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"å‹äººA\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"article\":[{\"path\":\"/note/network/SSE\",\"title\":\"SSE\",\"description\":\"SSEï¼ˆServer-Sent Eventsï¼‰æ˜¯ä¸€ç§ç”¨äºå®ç°æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®çš„æŠ€æœ¯ï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œäº‹ä»¶æµâ€ï¼ˆEvent Streamï¼‰ã€‚å®ƒåŸºäº HTTP åè®®ï¼Œåˆ©ç”¨äº†å…¶é•¿è¿æ¥ç‰¹æ€§ï¼Œåœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€æ¡æŒä¹…åŒ–è¿æ¥ï¼Œå¹¶é€šè¿‡è¿™æ¡è¿æ¥å®ç°æœåŠ¡å™¨å‘å®¢æˆ·ç«¯çš„å®æ—¶æ•°æ®æ¨é€ã€‚\\nSSE æ˜¯ WebSocket çš„ä¸€ç§è½»é‡ä»£æ›¿æ–¹æ¡ˆï¼Œä¸€èˆ¬æ¥è¯´ HTTP æ˜¯æ²¡æœ‰åŠæ³•åš...\",\"date\":\"2024-03-06 06:48:59\",\"updateTime\":\"2024-03-07 02:22:32\",\"month\":\"2024-03\",\"day\":\"2024-03-06\",\"cover\":\"https://cdn.pixabay.com/photo/2023/04/13/09/56/alps-7922246_640.jpg\",\"category\":\"network\"},{\"path\":\"/note/network/æµè§ˆå™¨è¾“å…¥URLå‘ç”Ÿäº†ä»€ä¹ˆ\",\"title\":\"æµè§ˆå™¨è¾“å…¥ URL å‘ç”Ÿäº†ä»€ä¹ˆ\",\"description\":\" DNS æŸ¥è¯¢\\nDNS æŸ¥è¯¢é¡ºåºå¦‚ä¸‹ï¼Œå¦‚æœå…¶ä¸­ä¸€éƒ¨æˆåŠŸåˆ™ç›´æ¥è·³åˆ°å»ºç«‹é“¾æ¥éƒ¨åˆ†\\n1. æµè§ˆå™¨è‡ªèº« DNS\\n2. æ“ä½œç³»ç»Ÿ DNS\\n3. æœ¬åœ° host æ–‡ä»¶\\n4. å‘åŸŸåæœåŠ¡å™¨å‘é€è¯·æ±‚\\nå‘åŸŸåæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚è§„åˆ™å¦‚ä¸‹ï¼š\\n1. æ ¹åŸŸåæœåŠ¡å™¨\\n2. é¡¶çº§åŸŸåæœåŠ¡å™¨\\n3. æƒå¨åŸŸåæœåŠ¡å™¨\\nDNS è§£æä¹‹åè·å–åˆ° ipï¼Œæœ‰äº† ip å‘é€ç½‘ç»œè¯·æ±‚ï¼Œè¿›å…¥ OSI ä¸ƒå±‚...\",\"date\":\"2024-03-05 03:02:23\",\"updateTime\":\"2024-03-06 02:23:59\",\"month\":\"2024-03\",\"day\":\"2024-03-05\",\"cover\":\"https://cdn.pixabay.com/photo/2023/10/30/05/19/sunflowers-8351807_640.jpg\",\"category\":\"network\"},{\"path\":\"/note/network/OSIä¸ƒå±‚æ¨¡å‹\",\"title\":\"OSI ä¸ƒå±‚æ¨¡å‹\",\"description\":\" ç‰©ç†å±‚\\nç‰©ç†å±‚ç›´æ¥ä¸ç‰©ç†ä»‹è´¨äº¤äº’ã€‚ç”¨åˆ°çš„è®¾å¤‡ä¸€èˆ¬æœ‰ï¼šç½‘å¡ã€ç½‘çº¿ã€é›†çº¿å™¨ã€ä¸­ç»§å™¨ã€è°ƒåˆ¶è§£è°ƒå™¨ç­‰ç›¸å…³è®¾å¤‡ã€‚ç‰©ç†å±‚æœ€é‡è¦çš„æ˜¯ç‰©ç†çš„é€šè®¯ï¼Œå³ä¿¡é“\\nä¿¡é“ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§ï¼š\\n- æœ‰çº¿ä¿¡é“\\n  - æ˜çº¿\\n    \\n    æ˜çº¿æ˜¯æŒ‡å¹³è¡Œæ¶è®¾åœ¨ç”µçº¿æ†ä¸Šçš„æ¶ç©ºçº¿è·¯ã€‚å®ƒæœ¬èº«æ˜¯å¯¼ç”µè£¸çº¿æˆ–å¸¦ç»ç¼˜å±‚çš„å¯¼çº¿ã€‚è™½ç„¶å®ƒçš„ä¼ è¾“æŸè€—ä½ï¼Œä½†æ˜¯ç”±äºæ˜“å—å¤©æ°”å’Œç¯å¢ƒçš„å½±å“ï¼Œå¯¹å¤–ç•Œå™ªå£°å¹²æ‰°æ¯”è¾ƒæ•æ„Ÿï¼Œå·²ç»é€...\",\"date\":\"2024-02-29 06:34:14\",\"updateTime\":\"2024-03-06 02:23:59\",\"month\":\"2024-02\",\"day\":\"2024-02-29\",\"cover\":\"https://cdn.pixabay.com/photo/2023/07/24/09/14/coccinellidae-8146623_640.jpg\",\"category\":\"network\"},{\"path\":\"/note/network/TCP\",\"title\":\"TCP\",\"description\":\" TCP è¿æ¥ä¸‰æ¬¡æ¡æ‰‹\\næ­¥éª¤ï¼š\\n1. å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ SYN æŠ¥æ–‡ï¼Œè·ŸæœåŠ¡å™¨è¿›è¡Œè¿æ¥ï¼Œå¹¶ä¸”ä¼šæºå¸¦ä¸€ä¸ªåºåˆ—å· seq\\n2. å®¢æˆ·ç«¯æ”¶åˆ° SYN+seq å­—æ®µåï¼ŒæœåŠ¡ç«¯ä¹Ÿç”Ÿæˆä¸€ä¸ª seq åºåˆ—å·ï¼Œå¹¶ä¸”å°†å®¢æˆ·ç«¯é€è¿‡æ¥çš„ seq+1 ä½œä¸º ack æºå¸¦ ACK ç¡®è®¤å·å‘é€ç»™å®¢æˆ·ç«¯è¡¨ç¤ºä¹‹å‰çš„ SYN å·²ç»æ”¶åˆ°äº†\\n3. å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯å“åº”åè¿˜ä¼šå‘é€ä¸€ä¸ª ACK ç¡®...\",\"date\":\"2024-02-29 06:34:14\",\"updateTime\":\"2024-03-06 02:23:59\",\"month\":\"2024-02\",\"day\":\"2024-02-29\",\"cover\":\"https://cdn.pixabay.com/photo/2024/02/21/14/42/flowers-8587835_640.jpg\",\"category\":\"network\"},{\"path\":\"/front-end/Three.js/Three.jså…¥é—¨\",\"title\":\"Three.js å…¥é—¨\",\"description\":\"æ–‡æ¡£å‚è€ƒï¼š\\nå®˜æ–¹æ–‡æ¡£\\n ä¸‰è¦ç´ \\nå…ˆä»ç®€å•çš„ä¸€ä¸ªéœ€æ±‚æ¥æ…¢æ…¢äº†è§£\\néœ€æ±‚ï¼šç”Ÿæˆä¸€ä¸ªç«‹æ–¹ä½“\\nå®ç°æµç¨‹ï¼š\\n1.  åˆ›å»ºåœºæ™¯\\n```js\\nconst scene = new THREE.Scene();\\n```\\n2.  åˆ›å»ºç›¸æœº\\n```js\\nconst camera = new THREE.PerspectiveCamera();\\n```\\n3. è¿‡ `THREE.Box...\",\"date\":\"2024-02-27 03:32:27\",\"updateTime\":\"2024-02-27 03:32:27\",\"month\":\"2024-02\",\"day\":\"2024-02-27\",\"cover\":\"https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_640.jpg\",\"sticky\":3,\"category\":\"Three.js\"},{\"path\":\"/front-end/React/reducer\",\"title\":\"reducer\",\"description\":\" useReducer\\nå½“é‡åˆ°éœ€è¦åŒæ—¶ä¿®æ”¹å¤šä¸ªçŠ¶æ€ï¼Œå¹¶ä¸”ä¿®æ”¹æ“ä½œæ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”èƒ½å°†å¯¹çŠ¶æ€çš„ä¿®æ”¹ä»ç»„ä»¶ä¸­æŠ½ç¦»å‡ºæ¥ã€‚\\nuseReducer å¯¹æ¯” useState æ›´æ³¨é‡æè¿° ä¿®æ”¹çš„è¿‡ç¨‹ ï¼Œæ¯”å¦‚ç»„ä»¶è§¦å‘è¡Œä¸ºï¼ŒuseReducer è´Ÿè´£æ›´æ–°\\n```tsx\\nconst [state, dispatch] = useReducer(reducer, initState...\",\"date\":\"2024-02-18 06:07:27\",\"updateTime\":\"2024-02-18 06:07:27\",\"month\":\"2024-02\",\"day\":\"2024-02-18\",\"cover\":\"https://cdn.pixabay.com/photo/2024/02/08/21/44/foliage-8561873_640.jpg\",\"category\":\"React\"},{\"path\":\"/front-end/React/åŸºç¡€hook\",\"title\":\"åŸºç¡€ hook\",\"description\":\" é…ç½®è·¯å¾„åˆ«å\\n1. ts é¡¹ç›®ä½¿ç”¨ node ç›¸å…³ api çš„æ—¶å€™éœ€è¦å®‰è£… node çš„ç±»å‹å£°æ˜\\nå®‰è£…ç±»å‹å£°æ˜æ–‡ä»¶\\n```\\npnpm i -D @types/node\\n```\\n2. ä¿®æ”¹ vite.config.ts\\n```ts\\nimport { defineConfig } from \\\"vite\\\";\\nimport react from \\\"@vitejs/...\",\"date\":\"2024-02-18 06:07:27\",\"updateTime\":\"2024-02-19 04:04:29\",\"month\":\"2024-02\",\"day\":\"2024-02-18\",\"cover\":\"https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_640.jpg\",\"sticky\":1,\"category\":\"React\"},{\"path\":\"/front-end/React/æ€§èƒ½ä¼˜åŒ–ç›¸å…³hook\",\"title\":\"æ€§èƒ½ä¼˜åŒ–ç›¸å…³ hook\",\"description\":\" React.memo\\nå½“çˆ¶ç»„ä»¶è¢«é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œå­ç»„ä»¶ä¹Ÿä¼šè§¦å‘æ¸²æŸ“ï¼Œè¿™æ ·å°±å¤šäº†æ— æ„ä¹‰çš„æ€§èƒ½å¼€é”€ï¼Œå¦‚æœå­ç»„ä»¶çš„çŠ¶æ€æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåˆ™å­ç»„ä»¶æ˜¯å¿…é¡»è¦è¢«é‡æ–°æ¸²æŸ“çš„ã€‚\\nåœ¨ React Hooks ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ React.memo æ¥è§£å†³ä¸Šè¿°é—®é¢˜ä»è€Œæé«˜æ€§èƒ½çš„ç›®çš„ã€‚\\n```\\nconst ç»„ä»¶ = React.memo(å‡½æ•°å¼ç»„ä»¶)\\n```\\n```tsx\\nimpor...\",\"date\":\"2024-02-18 06:07:27\",\"updateTime\":\"2024-02-19 04:04:29\",\"month\":\"2024-02\",\"day\":\"2024-02-18\",\"cover\":\"https://cdn.pixabay.com/photo/2017/05/09/03/46/alberta-2297204_640.jpg\",\"sticky\":2,\"category\":\"React\"}],\"author\":\"å‹äººA\",\"comment\":{\"repo\":\"Niu-bin/blog\",\"repoId\":\"R_kgDOLMBB5Q\",\"category\":\"Announcements\",\"categoryId\":\"DIC_kwDOLMBB5c4Cc-ci\",\"inputPosition\":\"bottom\"},\"friend\":[{\"avatar\":\"https://img.cdn.sugarat.top/mdImg/MTY3NDk5NTE2NzAzMA==674995167030\",\"name\":\"ç²¥é‡Œæœ‰å‹ºç³–\",\"desc\":\"ä½ çš„æŒ‡å°–,æ‹¥æœ‰æ”¹å˜ä¸–ç•Œçš„åŠ›é‡\",\"link\":\"https://sugarat.top/\"},{\"avatar\":\"https://cdn.jsdelivr.net/gh/hehuan2023/pic/typora/rabbit.png\",\"name\":\"dleei\",\"desc\":\"æ¬¢è¿è®¿é—®ä»£ç£Šçš„ä¸ªäººåšå®¢é¸­~\",\"link\":\"https://dleei.github.io/\"},{\"avatar\":\"https://blog.lubowen.xyz/_nuxt/head.6a38cc3c.jpg\",\"name\":\"å°é¹¿\",\"desc\":\"æ„¿ä½ ä¸€ç”Ÿæœ‰å±±å¯é ï¼Œæœ‰æ ‘å¯æ –ã€‚ä¸å¿ƒçˆ±ä¹‹äººï¼Œæ˜¥èµèŠ±ï¼Œå¤çº³å‡‰ã€‚ç§‹ç™»å±±ï¼Œå†¬æ‰«é›ªã€‚\",\"link\":\"https://blog.lubowen.xyz/\"}],\"logo\":\"/logo.jpg\",\"outline\":[2,3],\"nav\":[{\"text\":\"ä¸»é¡µ\",\"link\":\"/\"},{\"text\":\"å½’æ¡£\",\"link\":\"/archive\"},{\"text\":\"ç¬”è®°\",\"items\":[{\"text\":\"ç½‘ç»œ\",\"link\":\"/note/network/OSIä¸ƒå±‚æ¨¡å‹\"}]},{\"text\":\"å¤§å‰ç«¯\",\"items\":[{\"text\":\"React\",\"link\":\"/front-end/React/åŸºç¡€hook\"},{\"text\":\"Three.js\",\"link\":\"/front-end/Three.js/Three.jså…¥é—¨\"}]},{\"text\":\"å…³äº\",\"link\":\"/about\"}],\"sidebar\":[{\"text\":\"React\",\"items\":[{\"text\":\"åŸºç¡€hook\",\"link\":\"/front-end/React/åŸºç¡€hook\"},{\"text\":\"æ€§èƒ½ä¼˜åŒ–ç›¸å…³hook\",\"link\":\"/front-end/React/æ€§èƒ½ä¼˜åŒ–ç›¸å…³hook\"},{\"text\":\"reducer\",\"link\":\"/front-end/React/reducer\"}]},{\"text\":\"Three.js\",\"items\":[{\"text\":\"Three.jså…¥é—¨\",\"link\":\"/front-end/Three.js/Three.jså…¥é—¨\"}]},{\"text\":\"network\",\"items\":[{\"text\":\"OSIä¸ƒå±‚æ¨¡å‹\",\"link\":\"/note/network/OSIä¸ƒå±‚æ¨¡å‹\"},{\"text\":\"TCP\",\"link\":\"/note/network/TCP\"},{\"text\":\"æµè§ˆå™¨è¾“å…¥URLå‘ç”Ÿäº†ä»€ä¹ˆ\",\"link\":\"/note/network/æµè§ˆå™¨è¾“å…¥URLå‘ç”Ÿäº†ä»€ä¹ˆ\"},{\"text\":\"SSE\",\"link\":\"/note/network/SSE\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Niu-bin\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>